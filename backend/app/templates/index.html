<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ReviewPro - Check Review</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding-top: 80px;
  background: url("{{ url_for('static', filename='check review-bg.png') }}") no-repeat center center fixed;
  background-size: cover;
  color: #333;
}

/* Header */
header {
  position: fixed;
  top: 0; left: 0; width: 100%;
  z-index: 1000;
  display: flex; align-items: center; justify-content: space-between;
  padding: 15px 50px;
  background: rgba(255,255,255,0.95);
  box-shadow: 0 4px 20px rgba(0,0,0,0.12);
}
header h1 {
  color: #1a4f8b;
  font-size: 2em;
  margin: 0;
  font-weight: 600;
}
nav a {
  margin: 0 15px;
  text-decoration: none;
  color: #333;
  font-weight: 500;
  transition: 0.3s;
}
nav a:hover, nav a.active { color: #1a73e8; }

/* Page Heading */
h2 {
  text-align: center;
  font-size: 2em;
  margin: 40px 0 25px;
  color: #b30000;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.15);
}

/* Form Section */
.review-form {
  max-width: 700px;
  margin: 0 auto 50px auto;
  padding: 30px;
  background: rgba(255,255,255,0.92);
  border-radius: 20px;
  box-shadow: 0 12px 35px rgba(0,0,0,0.12);
}
.review-form input[type="text"], .review-form textarea {
  width: 100%;
  padding: 12px 15px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 15px;
  font-size: 1em;
  resize: vertical;
}
.buttons {
  display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-bottom: 15px;
}
.check-btn, .reset-btn {
  padding: 12px 35px;
  border-radius: 50px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  transition: 0.3s;
}
.check-btn { background: linear-gradient(135deg,#1a73e8,#145dbf); color:#fff; box-shadow:0 5px 15px rgba(0,0,0,0.2);}
.check-btn:hover { transform: translateY(-3px); box-shadow:0 10px 25px rgba(0,0,0,0.25);}
.reset-btn { background:#ccc; color:#000; }
.reset-btn:hover { background:#999; transform: translateY(-3px); }

/* Switch */
.checkbox { display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:20px;}
.switch { position:relative; display:inline-block; width:50px; height:26px;}
.switch input { opacity:0; width:0; height:0; }
.slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background:#ccc; border-radius:34px; transition:0.4s;}
.slider:before { content:""; position:absolute; height:22px; width:22px; left:2px; bottom:2px; background:white; border-radius:50%; transition:0.4s;}
input:checked + .slider { background:#1a73e8; }
input:checked + .slider:before { transform: translateX(24px); }

/* Result Cards - same style as Home/About */
.result-container { display:flex; flex-direction:column; gap:20px; max-width:700px; margin:0 auto;}
.result-card {
  display:flex; align-items:flex-start; gap:15px; padding:20px;
  border-radius:20px; background:#fff;
  box-shadow:0 12px 35px rgba(0,0,0,0.12);
  transition: transform 0.3s, box-shadow 0.3s;
  flex-wrap:wrap;
}
.result-card:hover { transform: translateY(-5px); box-shadow:0 15px 35px rgba(0,0,0,0.15); }
.result-card img { width:60px; height:60px; flex-shrink:0; }
.result-card div { max-width: calc(100% - 70px); }

.fake-real.fake { background:#ffd6d6; }
.fake-real.real { background:#d6ffd6; }
.ai-human.ai { background:#fff0c2; }
.ai-human.human { background:#cce5ff; }

.similarity p { max-height:80px; overflow:hidden; transition:max-height 0.3s ease; }
.similarity p.expanded { max-height:500px; }
.read-more-btn { background:#1a73e8; color:#fff; border:none; padding:5px 10px; margin-top:5px; border-radius:5px; font-size:0.9em; cursor:pointer; display:block; }

/* Pro Tips - card style like Home/About */
/* Pro Tips - fixed width and centered like result cards */
.tips {
  background:#fff;
  padding:20px;
  border-radius:20px;
  box-shadow:0 12px 35px rgba(0,0,0,0.12);
  margin:40px auto 0 auto; /* centered with top margin */
  max-width:700px; /* same as result cards */
}

.tips h3 { margin-bottom:15px; color:#1a4f8b; }
.tips ul { padding-left:20px; color:#333; line-height:1.6; }

/* Responsive */
@media(max-width:700px){
  .review-form, .result-card, .tips { padding:20px; }
  nav a{display:block;margin:8px 0;text-align:center;}
}
</style>
</head>
<body>

<header>
<h1>ReviewPro</h1>
<nav>
  <a href="{{ url_for('home') }}">Home</a>
  <a href="{{ url_for('about') }}">About</a>
  <a href="{{ url_for('features') }}">Features</a>
  <a href="{{ url_for('check_review') }}" class="active">Check Review</a>
  <a href="{{ url_for('contact') }}">Contact</a>
</nav>
</header>

<h2>Check a Review</h2>

<form action="/check-review" method="POST" class="review-form">
  <input type="text" name="product_url" placeholder="Enter product URL (optional)" value="{{ request.form.product_url or '' }}">
  <textarea name="review" placeholder="Enter your review..." required>{{ request.form.review or '' }}</textarea>

  <div class="checkbox">
    <label class="switch">
      <input type="checkbox" name="check_ai" id="check_ai" {% if request.form.get('check_ai') %}checked{% endif %}>
      <span class="slider round"></span>
    </label>
    <span style="font-weight:500;">Check AI-Generated</span>
  </div>

  <div class="buttons">
    <button type="submit" class="check-btn">Check</button>
    <button type="reset" class="reset-btn">Clear</button>
  </div>
</form>

{% if prediction %}
<div class="result-container">
  {% if product_url %}
  <div class="result-card">
    <img src="{{ url_for('static', filename='icon-url.png') }}" alt="URL">
    <div>
      <h3>Product URL</h3>
      <a href="{{ product_url }}" target="_blank">{{ product_url }}</a>
    </div>
  </div>
  {% endif %}

  <div class="result-card fake-real {{ 'fake' if 'Fake' in prediction else 'real' }}">
    <img src="{{ url_for('static', filename='icon-review.png') }}" alt="Review">
    <div>
      <h3>Review Type</h3>
      <p>{{ 'Fake' if 'Fake' in prediction else 'Real' }}</p>
    </div>
  </div>

  {% if show_ai %}
  <div class="result-card ai-human {{ 'ai' if 'AI-Generated' in prediction else 'human' }}">
    <img src="{{ url_for('static', filename='icon-ai.png') }}" alt="AI">
    <div>
      <h3>Source</h3>
      <p>{{ 'AI-Generated' if 'AI-Generated' in prediction else 'Human-Written' }}</p>
    </div>
  </div>
  {% endif %}

  {% if similarity_info %}
  <div class="result-card similarity">
    <img src="{{ url_for('static', filename='icon-compare.png') }}" alt="Compare">
    <div>
      <h3>Review Match Info</h3>
      <p id="similarity-text">{{ similarity_info }}</p>
      {% if similarity_info|length > 100 %}
      <button class="read-more-btn" onclick="toggleReadMore()">Read More</button>
      {% endif %}
    </div>
  </div>
  {% endif %}
</div>
{% endif %}

<div class="tips">
  <h3>Pro Tips:</h3>
  <ul>
    <li>Look for extreme positivity or negativity in reviews.</li>
    <li>Check if multiple reviews have similar wording.</li>
    <li>AI-generated reviews may have repetitive or generic phrasing.</li>
  </ul>
</div>

<script>
function toggleReadMore() {
  const p = document.getElementById('similarity-text');
  p.classList.toggle('expanded');
  const btn = p.nextElementSibling;
  btn.textContent = p.classList.contains('expanded') ? "Show Less" : "Read More";
}
</script>

</body>
</html>
